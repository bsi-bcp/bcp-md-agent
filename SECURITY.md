# 安全政策

## 支持的版本

当前支持以下版本的安全更新：

| 版本 | 支持状态 |
| --- | --- |
| 1.0.x | :white_check_mark: |
| < 1.0 | :x: |

## 报告安全漏洞

我们非常重视 MD-Agent 的安全性。如果你发现了安全漏洞，请负责任地向我们披露。

### 如何报告

**请勿通过公开的 GitHub Issues 报告安全漏洞。**

请通过以下方式报告安全问题：

1. **GitHub Security Advisories**（推荐）
   - 访问 [Security Advisories](https://github.com/paul-zhang-sudo/bcp-md-agent/security/advisories/new)
   - 填写漏洞详情

2. **私密联系**
   - 通过 GitHub Issues 创建一个空白 Issue，标题为 "Security - Request Private Contact"
   - 我们会提供安全的沟通渠道

### 报告内容

请在报告中包含以下信息：

- 漏洞类型（如 SQL 注入、XSS、认证绕过等）
- 受影响的组件和版本
- 漏洞的详细描述
- 复现步骤
- 概念验证代码（如果可能）
- 潜在影响评估
- 建议的修复方案（如果有）

### 响应流程

1. **确认收到** - 我们会在 48 小时内确认收到你的报告
2. **初步评估** - 我们会在 7 天内进行初步安全评估
3. **修复开发** - 根据严重程度，我们会尽快开发修复方案
4. **发布补丁** - 修复完成后会发布安全更新
5. **公开披露** - 在补丁发布后适当时间公开漏洞详情

### 严重程度评级

我们使用 CVSS 3.1 标准评估漏洞严重程度：

- **严重（9.0-10.0）** - 立即处理，24-48 小时内发布补丁
- **高危（7.0-8.9）** - 优先处理，1-2 周内发布补丁
- **中危（4.0-6.9）** - 正常处理，2-4 周内发布补丁
- **低危（0.1-3.9）** - 计划修复，包含在下一个版本中

## 安全最佳实践

### 部署建议

1. **认证和授权**
   - 启用强密码策略
   - 使用 HTTPS/TLS 加密传输
   - 实施最小权限原则

2. **数据库安全**
   - 使用独立的数据库用户，仅授予必要权限
   - 定期备份数据
   - 加密敏感数据

3. **网络安全**
   - 在防火墙后运行
   - 限制对管理接口的访问
   - 使用 VPN 或专用网络连接敏感系统

4. **配置安全**
   - 不要在配置文件中硬编码密码
   - 使用环境变量或密钥管理服务
   - 定期轮换访问凭证

5. **依赖管理**
   - 定期更新依赖到最新的安全版本
   - 监控已知漏洞（CVE）
   - 使用依赖扫描工具

6. **日志和监控**
   - 启用审计日志
   - 监控异常访问模式
   - 配置安全告警

### 已知风险

1. **JavaScript 脚本执行**
   - MD-Agent 允许执行用户提供的 JavaScript 脚本
   - 仅允许受信任的用户创建和修改脚本
   - 在隔离环境中运行（如容器）

2. **数据源连接**
   - 配置文件可能包含敏感的连接信息
   - 妥善保管配置文件，使用文件系统权限限制访问
   - 考虑使用密钥管理服务

## 安全更新通知

要接收安全更新通知：

1. Watch 本仓库并选择 "Releases only"
2. 关注 [GitHub Security Advisories](https://github.com/paul-zhang-sudo/bcp-md-agent/security/advisories)

## 致谢

我们感谢安全研究人员和用户帮助保护 MD-Agent 的安全。发现并负责任地报告安全问题的贡献者将在修复发布后获得致谢（除非你希望保持匿名）。

## 联系

如有其他安全相关问题，请通过 GitHub Issues 联系我们。
